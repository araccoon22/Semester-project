"0","### RP elasticities"
"0",""
"0","### Use the estimated model to make predictions"
"0","predictions_base = apollo_prediction(model, "
"0","                                     apollo_probabilities, "
"0","                                     apollo_inputs,"
"0","                                     prediction_settings=list(modelComponent = ""RP""))"
"1","Running predictions from model using parameter estimates...
"
"1","Prediction at model estimates for model component: RP
"
"1","         "
"1","    car"
"1","    bus"
"1","    air"
"1","   rail"
"1","
Aggregate"
"1"," 311.32"
"1"," 123.51"
"1"," 207.01"
"1"," 358.16"
"1","
Average  "
"1","   0.31"
"1","   0.12"
"1","   0.21"
"1","   0.36"
"1","
"
"1","
"
"1","The output from apollo_prediction is a matrix containing the
"
"1","  predictions at the estimated values.
"
"0","### Look at a summary of the predicted choice probabilities"
"0","summary(predictions_base)"
"1",""
"1","       ID       "
"1","  Observation   "
"1","      car       "
"1","      bus       "
"1","
"
"1"," Min.   :  1.0  "
"1"," Min.   : 1.00  "
"1"," Min.   :0.000  "
"1"," Min.   :0.000  "
"1","
"
"1"," 1st Qu.:125.8  "
"1"," 1st Qu.: 4.75  "
"1"," 1st Qu.:0.144  "
"1"," 1st Qu.:0.051  "
"1","
"
"1"," Median :250.5  "
"1"," Median : 8.50  "
"1"," Median :0.325  "
"1"," Median :0.095  "
"1","
"
"1"," Mean   :250.5  "
"1"," Mean   : 8.50  "
"1"," Mean   :0.311  "
"1"," Mean   :0.124  "
"1","
"
"1"," 3rd Qu.:375.2  "
"1"," 3rd Qu.:12.25  "
"1"," 3rd Qu.:0.455  "
"1"," 3rd Qu.:0.156  "
"1","
"
"1"," Max.   :500.0  "
"1"," Max.   :16.00  "
"1"," Max.   :0.950  "
"1"," Max.   :0.959  "
"1","
"
"1","                "
"1","                "
"1"," NA's   :7000   "
"1"," NA's   :7000   "
"1","
"
"1",""
"1","      air       "
"1","      rail      "
"1","     chosen     "
"1","
"
"1"," Min.   :0.000  "
"1"," Min.   :0.000  "
"1"," Min.   :0.024  "
"1","
"
"1"," 1st Qu.:0.005  "
"1"," 1st Qu.:0.220  "
"1"," 1st Qu.:0.295  "
"1","
"
"1"," Median :0.161  "
"1"," Median :0.356  "
"1"," Median :0.421  "
"1","
"
"1"," Mean   :0.207  "
"1"," Mean   :0.358  "
"1"," Mean   :0.431  "
"1","
"
"1"," 3rd Qu.:0.347  "
"1"," 3rd Qu.:0.506  "
"1"," 3rd Qu.:0.548  "
"1","
"
"1"," Max.   :0.970  "
"1"," Max.   :0.966  "
"1"," Max.   :0.966  "
"1","
"
"1"," NA's   :7000   "
"1"," NA's   :7000   "
"1"," NA's   :7000   "
"1","
"
"0","### Now imagine the cost for rail increases by 10%"
"0","database$cost_rail = 1.01*database$cost_rail"
"0",""
"0","### Rerun predictions with the new data, and save into a separate matrix"
"0","apollo_inputs=apollo_validateInputs()"
"1","Several observations per individual detected based on the value of ID.
"
"1","  Setting panelData in apollo_control set to TRUE.
"
"1","All checks on apollo_control completed.
"
"1","All checks on database completed.
"
"0","predictions_new = apollo_prediction(model, "
"0","                                    apollo_probabilities, "
"0","                                    apollo_inputs,"
"0","                                    prediction_settings=list(modelComponent = ""RP""))"
"1","Running predictions from model using parameter estimates...
"
"1","Prediction at model estimates for model component: RP
"
"1","         "
"1","    car"
"1","    bus"
"1","    air"
"1","   rail"
"1","
Aggregate"
"1"," 312.98"
"1"," 124.32"
"1"," 208.02"
"1"," 354.68"
"1","
Average  "
"1","   0.31"
"1","   0.12"
"1","   0.21"
"1","   0.35"
"1","
"
"1","
"
"1","The output from apollo_prediction is a matrix containing the
"
"1","  predictions at the estimated values.
"
"0","### Look at a summary of the predicted choice probabilities"
"0","summary(predictions_new)"
"1",""
"1","       ID       "
"1","  Observation   "
"1","      car       "
"1","      bus       "
"1","
"
"1"," Min.   :  1.0  "
"1"," Min.   : 1.00  "
"1"," Min.   :0.000  "
"1"," Min.   :0.000  "
"1","
"
"1"," 1st Qu.:125.8  "
"1"," 1st Qu.: 4.75  "
"1"," 1st Qu.:0.145  "
"1"," 1st Qu.:0.051  "
"1","
"
"1"," Median :250.5  "
"1"," Median : 8.50  "
"1"," Median :0.328  "
"1"," Median :0.095  "
"1","
"
"1"," Mean   :250.5  "
"1"," Mean   : 8.50  "
"1"," Mean   :0.313  "
"1"," Mean   :0.124  "
"1","
"
"1"," 3rd Qu.:375.2  "
"1"," 3rd Qu.:12.25  "
"1"," 3rd Qu.:0.459  "
"1"," 3rd Qu.:0.157  "
"1","
"
"1"," Max.   :500.0  "
"1"," Max.   :16.00  "
"1"," Max.   :0.950  "
"1"," Max.   :0.959  "
"1","
"
"1","                "
"1","                "
"1"," NA's   :7000   "
"1"," NA's   :7000   "
"1","
"
"1",""
"1","      air       "
"1","      rail      "
"1","     chosen     "
"1","
"
"1"," Min.   :0.000  "
"1"," Min.   :0.000  "
"1"," Min.   :0.024  "
"1","
"
"1"," 1st Qu.:0.005  "
"1"," 1st Qu.:0.215  "
"1"," 1st Qu.:0.294  "
"1","
"
"1"," Median :0.162  "
"1"," Median :0.353  "
"1"," Median :0.420  "
"1","
"
"1"," Mean   :0.208  "
"1"," Mean   :0.355  "
"1"," Mean   :0.431  "
"1","
"
"1"," 3rd Qu.:0.350  "
"1"," 3rd Qu.:0.503  "
"1"," 3rd Qu.:0.547  "
"1","
"
"1"," Max.   :0.970  "
"1"," Max.   :0.966  "
"1"," Max.   :0.966  "
"1","
"
"1"," NA's   :7000   "
"1"," NA's   :7000   "
"1"," NA's   :7000   "
"1","
"
"0","### Return to original data"
"0","database$cost_rail = 1/1.01*database$cost_rail"
"0",""
"0","### Compute own elasticity for rail:"
"0","log(sum(predictions_new[,6],na.rm=TRUE)/sum(predictions_base[,6],na.rm=TRUE))/log(1.01)"
"1","[1]"
"1"," -0.9812129"
"1","
"
"0","### SP elasticities"
"0",""
"0","### Use the estimated model to make predictions"
"0","apollo_inputs=apollo_validateInputs()"
"1","Several observations per individual detected based on the value of ID.
"
"1","  Setting panelData in apollo_control set to TRUE.
"
"1","All checks on apollo_control completed.
"
"1","All checks on database completed.
"
"0","predictions_base = apollo_prediction(model, "
"0","                                     apollo_probabilities, "
"0","                                     apollo_inputs,"
"0","                                     prediction_settings=list(modelComponent = ""SP""))"
"1","Running predictions from model using parameter estimates...
"
"1","Prediction at model estimates for model component: SP
"
"1","         "
"1","     car"
"1","    bus"
"1","     air"
"1","    rail"
"1","
Aggregate"
"1"," 1956.37"
"1"," 359.25"
"1"," 1526.01"
"1"," 3158.38"
"1","
Average  "
"1","    0.28"
"1","   0.05"
"1","    0.22"
"1","    0.45"
"1","
"
"1","
"
"1","The output from apollo_prediction is a matrix containing the
"
"1","  predictions at the estimated values.
"
"0","### Look at a summary of the predicted choice probabilities"
"0","summary(predictions_base)"
"1",""
"1","       ID       "
"1","  Observation   "
"1","      car        "
"1","      bus        "
"1","
"
"1"," Min.   :  1.0  "
"1"," Min.   : 1.00  "
"1"," Min.   :0.0000  "
"1"," Min.   :0.0000  "
"1","
"
"1"," 1st Qu.:125.8  "
"1"," 1st Qu.: 4.75  "
"1"," 1st Qu.:0.0284  "
"1"," 1st Qu.:0.0038  "
"1","
"
"1"," Median :250.5  "
"1"," Median : 8.50  "
"1"," Median :0.1914  "
"1"," Median :0.0158  "
"1","
"
"1"," Mean   :250.5  "
"1"," Mean   : 8.50  "
"1"," Mean   :0.2795  "
"1"," Mean   :0.0513  "
"1","
"
"1"," 3rd Qu.:375.2  "
"1"," 3rd Qu.:12.25  "
"1"," 3rd Qu.:0.4649  "
"1"," 3rd Qu.:0.0447  "
"1","
"
"1"," Max.   :500.0  "
"1"," Max.   :16.00  "
"1"," Max.   :0.9965  "
"1"," Max.   :0.9996  "
"1","
"
"1","                "
"1","                "
"1"," NA's   :1000    "
"1"," NA's   :1000    "
"1","
"
"1",""
"1","      air        "
"1","      rail       "
"1","     chosen      "
"1","
"
"1"," Min.   :0.0000  "
"1"," Min.   :0.0000  "
"1"," Min.   :0.0050  "
"1","
"
"1"," 1st Qu.:0.0001  "
"1"," 1st Qu.:0.1763  "
"1"," 1st Qu.:0.3817  "
"1","
"
"1"," Median :0.0802  "
"1"," Median :0.4398  "
"1"," Median :0.6286  "
"1","
"
"1"," Mean   :0.2180  "
"1"," Mean   :0.4512  "
"1"," Mean   :0.5927  "
"1","
"
"1"," 3rd Qu.:0.3694  "
"1"," 3rd Qu.:0.7242  "
"1"," 3rd Qu.:0.8156  "
"1","
"
"1"," Max.   :0.9993  "
"1"," Max.   :0.9995  "
"1"," Max.   :0.9996  "
"1","
"
"1"," NA's   :1000    "
"1"," NA's   :1000    "
"1"," NA's   :1000    "
"1","
"
"0","### Now imagine the cost for rail increases by 10%"
"0","database$cost_rail = 1.01*database$cost_rail"
"0",""
"0","### Rerun predictions with the new data, and save into a separate matrix"
"0","apollo_inputs=apollo_validateInputs()"
"1","Several observations per individual detected based on the value of ID.
"
"1","  Setting panelData in apollo_control set to TRUE.
"
"1","All checks on apollo_control completed.
"
"1","All checks on database completed.
"
"0","predictions_new = apollo_prediction(model, "
"0","                                    apollo_probabilities, "
"0","                                    apollo_inputs,"
"0","                                    prediction_settings=list(modelComponent = ""SP""))"
"1","Running predictions from model using parameter estimates...
"
"1","Prediction at model estimates for model component: SP
"
"1","         "
"1","     car"
"1","    bus"
"1","     air"
"1","    rail"
"1","
Aggregate"
"1"," 1977.78"
"1"," 364.23"
"1"," 1539.08"
"1"," 3118.92"
"1","
Average  "
"1","    0.28"
"1","   0.05"
"1","    0.22"
"1","    0.45"
"1","
"
"1","
"
"1","The output from apollo_prediction is a matrix containing the
"
"1","  predictions at the estimated values.
"
"0","### Look at a summary of the predicted choice probabilities"
"0","summary(predictions_new)"
"1",""
"1","       ID       "
"1","  Observation   "
"1","      car        "
"1","      bus        "
"1","
"
"1"," Min.   :  1.0  "
"1"," Min.   : 1.00  "
"1"," Min.   :0.0000  "
"1"," Min.   :0.0000  "
"1","
"
"1"," 1st Qu.:125.8  "
"1"," 1st Qu.: 4.75  "
"1"," 1st Qu.:0.0288  "
"1"," 1st Qu.:0.0039  "
"1","
"
"1"," Median :250.5  "
"1"," Median : 8.50  "
"1"," Median :0.1955  "
"1"," Median :0.0161  "
"1","
"
"1"," Mean   :250.5  "
"1"," Mean   : 8.50  "
"1"," Mean   :0.2825  "
"1"," Mean   :0.0520  "
"1","
"
"1"," 3rd Qu.:375.2  "
"1"," 3rd Qu.:12.25  "
"1"," 3rd Qu.:0.4715  "
"1"," 3rd Qu.:0.0454  "
"1","
"
"1"," Max.   :500.0  "
"1"," Max.   :16.00  "
"1"," Max.   :0.9965  "
"1"," Max.   :0.9996  "
"1","
"
"1","                "
"1","                "
"1"," NA's   :1000    "
"1"," NA's   :1000    "
"1","
"
"1",""
"1","      air        "
"1","      rail       "
"1","     chosen      "
"1","
"
"1"," Min.   :0.0000  "
"1"," Min.   :0.0000  "
"1"," Min.   :0.0050  "
"1","
"
"1"," 1st Qu.:0.0001  "
"1"," 1st Qu.:0.1697  "
"1"," 1st Qu.:0.3819  "
"1","
"
"1"," Median :0.0814  "
"1"," Median :0.4318  "
"1"," Median :0.6274  "
"1","
"
"1"," Mean   :0.2199  "
"1"," Mean   :0.4456  "
"1"," Mean   :0.5923  "
"1","
"
"1"," 3rd Qu.:0.3733  "
"1"," 3rd Qu.:0.7179  "
"1"," 3rd Qu.:0.8130  "
"1","
"
"1"," Max.   :0.9993  "
"1"," Max.   :0.9994  "
"1"," Max.   :0.9996  "
"1","
"
"1"," NA's   :1000    "
"1"," NA's   :1000    "
"1"," NA's   :1000    "
"1","
"
"0","### Return to original data"
"0","database$cost_rail = 1/1.01*database$cost_rail"
"0",""
"0","### Compute own elasticity for rail:"
"0","log(sum(predictions_new[,6],na.rm=TRUE)/sum(predictions_base[,6],na.rm=TRUE))/log(1.01)"
"1","[1]"
"1"," -1.263499"
"1","
"
"0","# ----------------------------------------------------------------- #"
"0","#---- switch off writing to file                                 ----"
"0","# ----------------------------------------------------------------- #"
"0",""
"0","apollo_sink()"
"1","Output is no longer being written to file.
"
